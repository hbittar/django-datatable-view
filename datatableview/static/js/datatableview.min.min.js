var datatableview=(function(){var s={serverSide:true,paging:true};var n={name:"name","config-sortable":"orderable","config-sorting":"order","config-visible":"visible","config-searchable":"searchable"};var t=true;var o=false;function r(b,a){b.each(function(){var c=$(this);var d=datatableview.getOptions(c,a);c.DataTable(d)});return b}function l(c,e){var d=[];var b=[];c.find("thead th").each(function(){var f=$(this);var j={};for(var i=0;i<f[0].attributes.length;i++){var x=f[0].attributes[i];if(x.specified&&/^data-/.test(x.name)){var w=x.name.replace(/^data-/,"");var g=x.value;w=n[w];if(/^(true|false)/.test(g.toLowerCase())){g=(g==="true")}if(w=="order"){var h=g.split(",");h[1]=parseInt(h[1]);b.push(h);continue}j[w]=g}}d.push(j)});b.sort(function(f,g){return f[0]-g[0]});for(var a=0;a<b.length;a++){b[a]=b[a].slice(1)}options=$.extend({},datatableview.defaults,e,{order:b,columns:d,pageLength:c.attr("data-page-length"),infoCallback:function(f,h,i,w,g,x){$("#"+c.attr("data-result-counter-id")).html(parseInt(g).toLocaleString());var j=f.oLanguage.sInfo.replace("_START_",h).replace("_END_",i).replace("_TOTAL_",g);if(w!=g){j+=f.oLanguage.sInfoFiltered.replace("_MAX_",w)}return j}});if(Object.keys($.fn.dataTable.ext.buttons).length>0){options=$.extend({},options,{dom:"Bfrtip",buttons:[{text:"Exportar",action:function(f,g,h,i){window.location=c.attr("data-source-url")+"?"+$.param($.extend({},g.ajax.params(),{"export":1,ajax:true}))}}]})}options.ajax=$.extend(options.ajax,{url:c.attr("data-source-url"),type:c.attr("data-ajax-method")||"GET",beforeSend:function(f){f.setRequestHeader("X-CSRFToken",m("csrftoken"))}});options=datatableview.finalizeOptions(c,options);return options}function k(b,a){if(datatableview.checkGlobalConfirmHook){if(window.confirm_datatable_options!==undefined){a=window.confirm_datatable_options(a,b)}}return a}function p(a){var a=$.extend({},a);if(!a.ajaxOptions){a.ajaxOptions={}}if(!a.ajaxOptions.headers){a.ajaxOptions.headers={}}a.ajaxOptions.headers["X-CSRFToken"]=m("csrftoken");a.error=function(b){var c=b.responseJSON;if(c.status=="error"){var d=$.map(c.form_errors,function(e,f){return e.join("\n")});return d.join("\n")}};return function(b,d,c){$("td a[data-xeditable]",b).editable(a);return b}}function m(c){var d=null;if(document.cookie&&document.cookie!=""){var e=document.cookie.split(";");for(var a=0;a<e.length;a++){var b=jQuery.trim(e[a]);if(b.substring(0,c.length+1)==(c+"=")){d=decodeURIComponent(b.substring(c.length+1));break}}}return d}var q={autoInitialize:o,auto_initialize:undefined,checkGlobalConfirmHook:t,defaults:s,initialize:r,getOptions:l,finalizeOptions:k,makeXEditable:p,make_xeditable:p};return q})();$(function(){var b=null;if(datatableview.auto_initialize===undefined){b=datatableview.autoInitialize}else{b=datatableview.auto_initialize}if(b){datatableview.initialize($(".datatable"))}});